{"timestamp": "2025-09-08T21:40:34.712117", "level": "WARNING", "logger": "confession_bot.rate_limiter", "message": "Redis not available, falling back to in-memory: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.", "module": "rate_limiter", "function": "__init__", "line": 96}
{"timestamp": "2025-09-08T21:40:36.899242", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Backup directory: backups", "module": "backup_system", "function": "_ensure_backup_directory", "line": 34}
{"timestamp": "2025-09-08T21:40:40.735860", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying 15 migrations", "module": "migrations", "function": "migrate_to_latest", "line": 517}
{"timestamp": "2025-09-08T21:40:40.739208", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying migration 1: initial_schema", "module": "migrations", "function": "apply_migration", "line": 468}
{"timestamp": "2025-09-08T21:40:40.979282", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 1 applied successfully", "module": "migrations", "function": "apply_migration", "line": 492}
{"timestamp": "2025-09-08T21:40:40.987601", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying migration 2: add_user_preferences", "module": "migrations", "function": "apply_migration", "line": 468}
{"timestamp": "2025-09-08T21:40:41.367791", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 2 applied successfully", "module": "migrations", "function": "apply_migration", "line": 492}
{"timestamp": "2025-09-08T21:40:41.373329", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying migration 3: add_confession_drafts", "module": "migrations", "function": "apply_migration", "line": 468}
{"timestamp": "2025-09-08T21:40:42.142435", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 3 applied successfully", "module": "migrations", "function": "apply_migration", "line": 492}
{"timestamp": "2025-09-08T21:40:42.152871", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying migration 4: add_scheduled_confessions", "module": "migrations", "function": "apply_migration", "line": 468}
{"timestamp": "2025-09-08T21:40:43.228549", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 4 applied successfully", "module": "migrations", "function": "apply_migration", "line": 492}
{"timestamp": "2025-09-08T21:40:43.240015", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying migration 5: add_analytics_tables", "module": "migrations", "function": "apply_migration", "line": 468}
{"timestamp": "2025-09-08T21:40:44.114247", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 5 applied successfully", "module": "migrations", "function": "apply_migration", "line": 492}
{"timestamp": "2025-09-08T21:40:44.123213", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying migration 6: add_notification_system", "module": "migrations", "function": "apply_migration", "line": 468}
{"timestamp": "2025-09-08T21:40:45.353041", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 6 applied successfully", "module": "migrations", "function": "apply_migration", "line": 492}
{"timestamp": "2025-09-08T21:40:45.363419", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying migration 7: enhance_content_moderation", "module": "migrations", "function": "apply_migration", "line": 468}
{"timestamp": "2025-09-08T21:40:46.394894", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 7 applied successfully", "module": "migrations", "function": "apply_migration", "line": 492}
{"timestamp": "2025-09-08T21:40:46.404805", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying migration 8: add_performance_indexes", "module": "migrations", "function": "apply_migration", "line": 468}
{"timestamp": "2025-09-08T21:40:49.593140", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 8 applied successfully", "module": "migrations", "function": "apply_migration", "line": 492}
{"timestamp": "2025-09-08T21:40:49.604478", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying migration 9: add_backup_metadata", "module": "migrations", "function": "apply_migration", "line": 468}
{"timestamp": "2025-09-08T21:40:50.323189", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 9 applied successfully", "module": "migrations", "function": "apply_migration", "line": 492}
{"timestamp": "2025-09-08T21:40:50.330281", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying migration 10: add_user_profile_columns", "module": "migrations", "function": "apply_migration", "line": 468}
{"timestamp": "2025-09-08T21:40:50.678313", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 10 applied successfully", "module": "migrations", "function": "apply_migration", "line": 492}
{"timestamp": "2025-09-08T21:40:50.692283", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying migration 11: add_channel_message_id", "module": "migrations", "function": "apply_migration", "line": 468}
{"timestamp": "2025-09-08T21:40:50.943432", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 11 applied successfully", "module": "migrations", "function": "apply_migration", "line": 492}
{"timestamp": "2025-09-08T21:40:50.954315", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying migration 12: add_post_number_column", "module": "migrations", "function": "apply_migration", "line": 468}
{"timestamp": "2025-09-08T21:40:50.957011", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 12: Column/table already exists, continuing", "module": "migrations", "function": "apply_migration", "line": 480}
{"timestamp": "2025-09-08T21:40:51.154480", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 12 applied successfully", "module": "migrations", "function": "apply_migration", "line": 492}
{"timestamp": "2025-09-08T21:40:51.166990", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying migration 13: ensure_rank_definitions_columns", "module": "migrations", "function": "apply_migration", "line": 468}
{"timestamp": "2025-09-08T21:40:51.961962", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 13 applied successfully", "module": "migrations", "function": "apply_migration", "line": 492}
{"timestamp": "2025-09-08T21:40:51.972013", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying migration 14: add_media_support_to_confessions", "module": "migrations", "function": "apply_migration", "line": 468}
{"timestamp": "2025-09-08T21:40:51.974941", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 14: Column/table already exists, continuing", "module": "migrations", "function": "apply_migration", "line": 480}
{"timestamp": "2025-09-08T21:40:51.976819", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 14: Column/table already exists, continuing", "module": "migrations", "function": "apply_migration", "line": 480}
{"timestamp": "2025-09-08T21:40:51.978395", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 14: Column/table already exists, continuing", "module": "migrations", "function": "apply_migration", "line": 480}
{"timestamp": "2025-09-08T21:40:51.979966", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 14: Column/table already exists, continuing", "module": "migrations", "function": "apply_migration", "line": 480}
{"timestamp": "2025-09-08T21:40:51.981452", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 14: Column/table already exists, continuing", "module": "migrations", "function": "apply_migration", "line": 480}
{"timestamp": "2025-09-08T21:40:51.983170", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 14: Column/table already exists, continuing", "module": "migrations", "function": "apply_migration", "line": 480}
{"timestamp": "2025-09-08T21:40:51.984781", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 14: Column/table already exists, continuing", "module": "migrations", "function": "apply_migration", "line": 480}
{"timestamp": "2025-09-08T21:40:51.986327", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 14: Column/table already exists, continuing", "module": "migrations", "function": "apply_migration", "line": 480}
{"timestamp": "2025-09-08T21:40:51.987854", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 14: Column/table already exists, continuing", "module": "migrations", "function": "apply_migration", "line": 480}
{"timestamp": "2025-09-08T21:40:51.989426", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 14: Column/table already exists, continuing", "module": "migrations", "function": "apply_migration", "line": 480}
{"timestamp": "2025-09-08T21:40:52.540908", "level": "INFO", "logger": "confession_bot.migrations", "message": "Migration 14 applied successfully", "module": "migrations", "function": "apply_migration", "line": 492}
{"timestamp": "2025-09-08T21:40:52.551054", "level": "INFO", "logger": "confession_bot.migrations", "message": "Applying migration 15: fix_content_null_constraint_for_media", "module": "migrations", "function": "apply_migration", "line": 468}
{"timestamp": "2025-09-08T21:40:52.747534", "level": "ERROR", "logger": "confession_bot.migrations", "message": "Failed to apply migration 15: table posts_new has 24 columns but 25 values were supplied", "module": "migrations", "function": "apply_migration", "line": 496}
{"timestamp": "2025-09-08T21:40:52.750410", "level": "ERROR", "logger": "confession_bot.migrations", "message": "Migration failed at version 15", "module": "migrations", "function": "migrate_to_latest", "line": 522}
{"timestamp": "2025-09-08T21:42:38.838780", "level": "WARNING", "logger": "confession_bot.rate_limiter", "message": "Redis not available, falling back to in-memory: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.", "module": "rate_limiter", "function": "__init__", "line": 96}
{"timestamp": "2025-09-08T21:42:40.594593", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Backup directory: backups", "module": "backup_system", "function": "_ensure_backup_directory", "line": 34}
{"timestamp": "2025-09-08T21:46:25.003760", "level": "WARNING", "logger": "confession_bot.rate_limiter", "message": "Redis not available, falling back to in-memory: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.", "module": "rate_limiter", "function": "__init__", "line": 96}
{"timestamp": "2025-09-08T21:46:26.660731", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Backup directory: backups", "module": "backup_system", "function": "_ensure_backup_directory", "line": 34}
{"timestamp": "2025-09-08T21:46:26.690314", "level": "INFO", "logger": "confession_bot.migrations", "message": "Database is up to date", "module": "migrations", "function": "migrate_to_latest", "line": 514}
{"timestamp": "2025-09-08T21:46:26.691778", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Initializing backup system...", "module": "backup_system", "function": "start_backup_system", "line": 348}
{"timestamp": "2025-09-08T21:46:26.694742", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Auto backup started - running every 24 hours", "module": "backup_system", "function": "start_auto_backup", "line": 328}
{"timestamp": "2025-09-08T21:46:28.275748", "level": "INFO", "logger": "confession_bot", "message": "User 0 - bot_started: University Confession Bot initialized", "module": "logger", "function": "log_user_action", "line": 120, "user_id": 0, "action": "bot_started"}
{"timestamp": "2025-09-09T13:44:29.712653", "level": "WARNING", "logger": "confession_bot.rate_limiter", "message": "Redis not available, falling back to in-memory: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.", "module": "rate_limiter", "function": "__init__", "line": 96}
{"timestamp": "2025-09-09T13:44:58.103087", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Backup directory: backups", "module": "backup_system", "function": "_ensure_backup_directory", "line": 34}
{"timestamp": "2025-09-09T13:57:42.192153", "level": "WARNING", "logger": "confession_bot.rate_limiter", "message": "Redis not available, falling back to in-memory: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.", "module": "rate_limiter", "function": "__init__", "line": 96}
{"timestamp": "2025-09-09T13:57:48.194357", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Backup directory: backups", "module": "backup_system", "function": "_ensure_backup_directory", "line": 34}
{"timestamp": "2025-09-09T14:00:14.211282", "level": "WARNING", "logger": "confession_bot.rate_limiter", "message": "Redis not available, falling back to in-memory: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.", "module": "rate_limiter", "function": "__init__", "line": 96}
{"timestamp": "2025-09-09T14:00:15.821786", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Backup directory: backups", "module": "backup_system", "function": "_ensure_backup_directory", "line": 34}
{"timestamp": "2025-09-09T14:00:16.010051", "level": "INFO", "logger": "confession_bot.migrations", "message": "Database is up to date", "module": "migrations", "function": "migrate_to_latest", "line": 514}
{"timestamp": "2025-09-09T14:00:16.011050", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Initializing backup system...", "module": "backup_system", "function": "start_backup_system", "line": 348}
{"timestamp": "2025-09-09T14:00:16.013223", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Auto backup started - running every 24 hours", "module": "backup_system", "function": "start_auto_backup", "line": 328}
{"timestamp": "2025-09-09T14:00:17.843737", "level": "INFO", "logger": "confession_bot", "message": "User 0 - bot_started: University Confession Bot initialized", "module": "logger", "function": "log_user_action", "line": 120, "user_id": 0, "action": "bot_started"}
{"timestamp": "2025-09-09T14:00:19.858020", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Unexpected error in handle_menu_choice: near \"%\": syntax error", "module": "error_handler", "function": "wrapper", "line": 221, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\sende\\Desktop\\new\\error_handler.py\", line 123, in wrapper\n    return await func(update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\new\\bot.py\", line 356, in handle_menu_choice\n    if is_blocked_user(user_id):\n       ~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\new\\db.py\", line 256, in is_blocked_user\n    cursor.execute('SELECT blocked FROM users WHERE user_id = %s', (user_id,))\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: near \"%\": syntax error"}
{"timestamp": "2025-09-09T14:00:20.474351", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 7085119805 of error: Chat not found", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:00:21.118561", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Unexpected error in handle_menu_choice: near \"%\": syntax error", "module": "error_handler", "function": "wrapper", "line": 221, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\sende\\Desktop\\new\\error_handler.py\", line 123, in wrapper\n    return await func(update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\new\\bot.py\", line 356, in handle_menu_choice\n    if is_blocked_user(user_id):\n       ~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\new\\db.py\", line 256, in is_blocked_user\n    cursor.execute('SELECT blocked FROM users WHERE user_id = %s', (user_id,))\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: near \"%\": syntax error"}
{"timestamp": "2025-09-09T14:00:21.518658", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 7085119805 of error: Chat not found", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:00:22.077147", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Unexpected error in start_handler: near \"%\": syntax error", "module": "error_handler", "function": "wrapper", "line": 221, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\sende\\Desktop\\new\\error_handler.py\", line 123, in wrapper\n    return await func(update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\new\\bot.py\", line 281, in start_handler\n    add_user(user.id, user.username, user.first_name, user.last_name)\n    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\new\\db.py\", line 220, in add_user\n    cursor.execute('''\n    ~~~~~~~~~~~~~~^^^^\n        INSERT INTO users (user_id, username, first_name, last_name, join_date, questions_asked, comments_posted, blocked)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n            last_name = EXCLUDED.last_name\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ''', (user_id, username, first_name, last_name))\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: near \"%\": syntax error"}
{"timestamp": "2025-09-09T14:00:22.275689", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 1298849354 of error: Can't parse entities: unsupported start tag \"4\" at byte offset 1046", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:00:22.633432", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 7085119805 of error: Can't parse entities: unsupported start tag \"4\" at byte offset 1046", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:00:23.201975", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 6261688120 of error: Can't parse entities: unsupported start tag \"4\" at byte offset 1046", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:00:23.584714", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Unexpected error in start_handler: near \"%\": syntax error", "module": "error_handler", "function": "wrapper", "line": 221, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\sende\\Desktop\\new\\error_handler.py\", line 123, in wrapper\n    return await func(update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\new\\bot.py\", line 281, in start_handler\n    add_user(user.id, user.username, user.first_name, user.last_name)\n    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\new\\db.py\", line 220, in add_user\n    cursor.execute('''\n    ~~~~~~~~~~~~~~^^^^\n        INSERT INTO users (user_id, username, first_name, last_name, join_date, questions_asked, comments_posted, blocked)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n            last_name = EXCLUDED.last_name\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ''', (user_id, username, first_name, last_name))\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: near \"%\": syntax error"}
{"timestamp": "2025-09-09T14:00:23.811885", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 1298849354 of error: Can't parse entities: unsupported start tag \"4\" at byte offset 1046", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:00:24.223357", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 7085119805 of error: Can't parse entities: unsupported start tag \"4\" at byte offset 1046", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:00:24.631317", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 6261688120 of error: Can't parse entities: unsupported start tag \"4\" at byte offset 1046", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:00:24.965461", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Unexpected error in start_handler: near \"%\": syntax error", "module": "error_handler", "function": "wrapper", "line": 221, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\sende\\Desktop\\new\\error_handler.py\", line 123, in wrapper\n    return await func(update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\new\\bot.py\", line 281, in start_handler\n    add_user(user.id, user.username, user.first_name, user.last_name)\n    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\new\\db.py\", line 220, in add_user\n    cursor.execute('''\n    ~~~~~~~~~~~~~~^^^^\n        INSERT INTO users (user_id, username, first_name, last_name, join_date, questions_asked, comments_posted, blocked)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n            last_name = EXCLUDED.last_name\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ''', (user_id, username, first_name, last_name))\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: near \"%\": syntax error"}
{"timestamp": "2025-09-09T14:00:25.144274", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 1298849354 of error: Can't parse entities: unsupported start tag \"4\" at byte offset 1046", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:00:25.498636", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 7085119805 of error: Can't parse entities: unsupported start tag \"4\" at byte offset 1046", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:00:25.962825", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 6261688120 of error: Can't parse entities: unsupported start tag \"4\" at byte offset 1046", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:00:35.490968", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Unexpected error in handle_menu_choice: near \"%\": syntax error", "module": "error_handler", "function": "wrapper", "line": 221, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\sende\\Desktop\\new\\error_handler.py\", line 123, in wrapper\n    return await func(update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\new\\bot.py\", line 356, in handle_menu_choice\n    if is_blocked_user(user_id):\n       ~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\new\\db.py\", line 256, in is_blocked_user\n    cursor.execute('SELECT blocked FROM users WHERE user_id = %s', (user_id,))\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: near \"%\": syntax error"}
{"timestamp": "2025-09-09T14:00:36.510626", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 7085119805 of error: Chat not found", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:11:45.923969", "level": "WARNING", "logger": "confession_bot.rate_limiter", "message": "Redis not available, falling back to in-memory: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.", "module": "rate_limiter", "function": "__init__", "line": 96}
{"timestamp": "2025-09-09T14:11:59.696286", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Backup directory: backups", "module": "backup_system", "function": "_ensure_backup_directory", "line": 34}
{"timestamp": "2025-09-09T14:11:59.884928", "level": "INFO", "logger": "confession_bot.migrations", "message": "Database is up to date", "module": "migrations", "function": "migrate_to_latest", "line": 514}
{"timestamp": "2025-09-09T14:11:59.887142", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Initializing backup system...", "module": "backup_system", "function": "start_backup_system", "line": 348}
{"timestamp": "2025-09-09T14:11:59.935747", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Auto backup started - running every 24 hours", "module": "backup_system", "function": "start_auto_backup", "line": 328}
{"timestamp": "2025-09-09T14:12:02.056943", "level": "INFO", "logger": "confession_bot", "message": "User 0 - bot_started: University Confession Bot initialized", "module": "logger", "function": "log_user_action", "line": 120, "user_id": 0, "action": "bot_started"}
{"timestamp": "2025-09-09T14:12:09.073507", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Unexpected error in start_handler: near \"%\": syntax error", "module": "error_handler", "function": "wrapper", "line": 221, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\sende\\Desktop\\boo\\error_handler.py\", line 123, in wrapper\n    return await func(update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\boo\\bot.py\", line 281, in start_handler\n    add_user(user.id, user.username, user.first_name, user.last_name)\n    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\boo\\db.py\", line 220, in add_user\n    cursor.execute('''\n    ~~~~~~~~~~~~~~^^^^\n        INSERT INTO users (user_id, username, first_name, last_name, join_date, questions_asked, comments_posted, blocked)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n            last_name = EXCLUDED.last_name\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ''', (user_id, username, first_name, last_name))\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: near \"%\": syntax error"}
{"timestamp": "2025-09-09T14:12:09.399104", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 1298849354 of error: Can't parse entities: unsupported start tag \"4\" at byte offset 1046", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:12:09.749688", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 7085119805 of error: Can't parse entities: unsupported start tag \"4\" at byte offset 1046", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:12:10.114848", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 6261688120 of error: Can't parse entities: unsupported start tag \"4\" at byte offset 1046", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:12:13.601477", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Unexpected error in start_handler: near \"%\": syntax error", "module": "error_handler", "function": "wrapper", "line": 221, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\sende\\Desktop\\boo\\error_handler.py\", line 123, in wrapper\n    return await func(update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\boo\\bot.py\", line 281, in start_handler\n    add_user(user.id, user.username, user.first_name, user.last_name)\n    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\boo\\db.py\", line 220, in add_user\n    cursor.execute('''\n    ~~~~~~~~~~~~~~^^^^\n        INSERT INTO users (user_id, username, first_name, last_name, join_date, questions_asked, comments_posted, blocked)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n            last_name = EXCLUDED.last_name\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ''', (user_id, username, first_name, last_name))\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: near \"%\": syntax error"}
{"timestamp": "2025-09-09T14:12:13.801414", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 1298849354 of error: Can't parse entities: unsupported start tag \"4\" at byte offset 1046", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:12:14.244790", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 7085119805 of error: Can't parse entities: unsupported start tag \"4\" at byte offset 1046", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:12:14.621810", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 6261688120 of error: Can't parse entities: unsupported start tag \"4\" at byte offset 1046", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:12:17.492055", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Unexpected error in handle_menu_choice: near \"%\": syntax error", "module": "error_handler", "function": "wrapper", "line": 221, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\sende\\Desktop\\boo\\error_handler.py\", line 123, in wrapper\n    return await func(update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\boo\\bot.py\", line 356, in handle_menu_choice\n    if is_blocked_user(user_id):\n       ~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\boo\\db.py\", line 256, in is_blocked_user\n    cursor.execute('SELECT blocked FROM users WHERE user_id = %s', (user_id,))\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: near \"%\": syntax error"}
{"timestamp": "2025-09-09T14:12:18.106867", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 7085119805 of error: Chat not found", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:12:19.308777", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Unexpected error in handle_menu_choice: near \"%\": syntax error", "module": "error_handler", "function": "wrapper", "line": 221, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\sende\\Desktop\\boo\\error_handler.py\", line 123, in wrapper\n    return await func(update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\boo\\bot.py\", line 356, in handle_menu_choice\n    if is_blocked_user(user_id):\n       ~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\boo\\db.py\", line 256, in is_blocked_user\n    cursor.execute('SELECT blocked FROM users WHERE user_id = %s', (user_id,))\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: near \"%\": syntax error"}
{"timestamp": "2025-09-09T14:12:19.810369", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 7085119805 of error: Chat not found", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:12:20.919493", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Unexpected error in handle_menu_choice: near \"%\": syntax error", "module": "error_handler", "function": "wrapper", "line": 221, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\sende\\Desktop\\boo\\error_handler.py\", line 123, in wrapper\n    return await func(update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\boo\\bot.py\", line 356, in handle_menu_choice\n    if is_blocked_user(user_id):\n       ~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\boo\\db.py\", line 256, in is_blocked_user\n    cursor.execute('SELECT blocked FROM users WHERE user_id = %s', (user_id,))\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: near \"%\": syntax error"}
{"timestamp": "2025-09-09T14:12:21.348772", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 7085119805 of error: Chat not found", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:12:22.380984", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Unexpected error in handle_menu_choice: near \"%\": syntax error", "module": "error_handler", "function": "wrapper", "line": 221, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\sende\\Desktop\\boo\\error_handler.py\", line 123, in wrapper\n    return await func(update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\boo\\bot.py\", line 356, in handle_menu_choice\n    if is_blocked_user(user_id):\n       ~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\boo\\db.py\", line 256, in is_blocked_user\n    cursor.execute('SELECT blocked FROM users WHERE user_id = %s', (user_id,))\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: near \"%\": syntax error"}
{"timestamp": "2025-09-09T14:12:23.041940", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 7085119805 of error: Chat not found", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:12:24.147873", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Unexpected error in handle_menu_choice: near \"%\": syntax error", "module": "error_handler", "function": "wrapper", "line": 221, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\sende\\Desktop\\boo\\error_handler.py\", line 123, in wrapper\n    return await func(update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\boo\\bot.py\", line 356, in handle_menu_choice\n    if is_blocked_user(user_id):\n       ~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\sende\\Desktop\\boo\\db.py\", line 256, in is_blocked_user\n    cursor.execute('SELECT blocked FROM users WHERE user_id = %s', (user_id,))\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: near \"%\": syntax error"}
{"timestamp": "2025-09-09T14:12:24.545689", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Failed to notify admin 7085119805 of error: Chat not found", "module": "error_handler", "function": "notify_admins_of_error", "line": 310}
{"timestamp": "2025-09-09T14:15:00.833679", "level": "WARNING", "logger": "confession_bot.rate_limiter", "message": "Redis not available, falling back to in-memory: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.", "module": "rate_limiter", "function": "__init__", "line": 96}
{"timestamp": "2025-09-09T14:15:02.238176", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Backup directory: backups", "module": "backup_system", "function": "_ensure_backup_directory", "line": 34}
{"timestamp": "2025-09-09T14:15:02.299246", "level": "INFO", "logger": "confession_bot.migrations", "message": "Database is up to date", "module": "migrations", "function": "migrate_to_latest", "line": 514}
{"timestamp": "2025-09-09T14:15:02.301336", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Initializing backup system...", "module": "backup_system", "function": "start_backup_system", "line": 348}
{"timestamp": "2025-09-09T14:15:02.306072", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Auto backup started - running every 24 hours", "module": "backup_system", "function": "start_auto_backup", "line": 328}
{"timestamp": "2025-09-09T14:15:03.838295", "level": "INFO", "logger": "confession_bot", "message": "User 0 - bot_started: University Confession Bot initialized", "module": "logger", "function": "log_user_action", "line": 120, "user_id": 0, "action": "bot_started"}
{"timestamp": "2025-09-09T14:24:26.859133", "level": "WARNING", "logger": "confession_bot.rate_limiter", "message": "Redis not available, falling back to in-memory: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.", "module": "rate_limiter", "function": "__init__", "line": 96}
{"timestamp": "2025-09-09T14:24:29.871458", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Backup directory: backups", "module": "backup_system", "function": "_ensure_backup_directory", "line": 34}
{"timestamp": "2025-09-09T14:24:29.934133", "level": "INFO", "logger": "confession_bot.migrations", "message": "Database is up to date", "module": "migrations", "function": "migrate_to_latest", "line": 514}
{"timestamp": "2025-09-09T14:24:29.936492", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Initializing backup system...", "module": "backup_system", "function": "start_backup_system", "line": 348}
{"timestamp": "2025-09-09T14:24:29.940877", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Auto backup started - running every 24 hours", "module": "backup_system", "function": "start_auto_backup", "line": 328}
{"timestamp": "2025-09-09T14:24:31.446050", "level": "INFO", "logger": "confession_bot", "message": "User 0 - bot_started: University Confession Bot initialized", "module": "logger", "function": "log_user_action", "line": 120, "user_id": 0, "action": "bot_started"}
{"timestamp": "2025-09-09T14:33:51.780659", "level": "WARNING", "logger": "confession_bot.rate_limiter", "message": "Redis not available, falling back to in-memory: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.", "module": "rate_limiter", "function": "__init__", "line": 96}
{"timestamp": "2025-09-09T14:33:53.054259", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Backup directory: backups", "module": "backup_system", "function": "_ensure_backup_directory", "line": 34}
{"timestamp": "2025-09-09T14:33:53.487713", "level": "INFO", "logger": "confession_bot.migrations", "message": "Database is up to date", "module": "migrations", "function": "migrate_to_latest", "line": 514}
{"timestamp": "2025-09-09T14:33:53.491102", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Initializing backup system...", "module": "backup_system", "function": "start_backup_system", "line": 348}
{"timestamp": "2025-09-09T14:33:53.495840", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Auto backup started - running every 24 hours", "module": "backup_system", "function": "start_auto_backup", "line": 328}
{"timestamp": "2025-09-09T14:33:55.044266", "level": "INFO", "logger": "confession_bot", "message": "User 0 - bot_started: University Confession Bot initialized", "module": "logger", "function": "log_user_action", "line": 120, "user_id": 0, "action": "bot_started"}
{"timestamp": "2025-09-09T14:43:46.134748", "level": "WARNING", "logger": "confession_bot.rate_limiter", "message": "Redis not available, falling back to in-memory: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.", "module": "rate_limiter", "function": "__init__", "line": 96}
{"timestamp": "2025-09-09T14:44:53.455909", "level": "WARNING", "logger": "confession_bot.rate_limiter", "message": "Redis not available, falling back to in-memory: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.", "module": "rate_limiter", "function": "__init__", "line": 96}
{"timestamp": "2025-09-09T14:45:02.901053", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Backup directory: backups", "module": "backup_system", "function": "_ensure_backup_directory", "line": 34}
{"timestamp": "2025-09-09T14:45:03.293864", "level": "INFO", "logger": "confession_bot.migrations", "message": "Database is up to date", "module": "migrations", "function": "migrate_to_latest", "line": 514}
{"timestamp": "2025-09-09T14:45:03.295483", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Initializing backup system...", "module": "backup_system", "function": "start_backup_system", "line": 348}
{"timestamp": "2025-09-09T14:45:03.298163", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Auto backup started - running every 24 hours", "module": "backup_system", "function": "start_auto_backup", "line": 328}
{"timestamp": "2025-09-09T14:45:05.612780", "level": "INFO", "logger": "confession_bot", "message": "User 0 - bot_started: University Confession Bot initialized", "module": "logger", "function": "log_user_action", "line": 120, "user_id": 0, "action": "bot_started"}
{"timestamp": "2025-09-09T14:57:37.772861", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Bad request: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message", "module": "error_handler", "function": "wrapper", "line": 132}
{"timestamp": "2025-09-09T14:57:46.375331", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Bad request: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message", "module": "error_handler", "function": "wrapper", "line": 132}
{"timestamp": "2025-09-09T14:58:16.361810", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Bad request: Can't parse entities: character '(' is reserved and must be escaped with the preceding '\\'", "module": "error_handler", "function": "wrapper", "line": 132}
{"timestamp": "2025-09-09T14:58:50.953026", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Bad request: Can't parse entities: character '!' is reserved and must be escaped with the preceding '\\'", "module": "error_handler", "function": "wrapper", "line": 132}
{"timestamp": "2025-09-09T14:59:13.619921", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Bad request: Can't parse entities: character '!' is reserved and must be escaped with the preceding '\\'", "module": "error_handler", "function": "wrapper", "line": 132}
{"timestamp": "2025-09-09T14:59:18.741899", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Bad request: Can't parse entities: character '.' is reserved and must be escaped with the preceding '\\'", "module": "error_handler", "function": "wrapper", "line": 132}
{"timestamp": "2025-09-09T15:00:51.240630", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Bad request: Can't parse entities: character '(' is reserved and must be escaped with the preceding '\\'", "module": "error_handler", "function": "wrapper", "line": 132}
{"timestamp": "2025-09-09T15:09:29.036460", "level": "ERROR", "logger": "confession_bot.enhanced_ranking_ui", "message": "Error in enhanced_ranking_callback_handler: 'EnhancedLeaderboardManager' object has no attribute 'get_leaderboard'", "module": "enhanced_ranking_ui", "function": "enhanced_ranking_callback_handler", "line": 294}
{"timestamp": "2025-09-09T15:09:31.641524", "level": "ERROR", "logger": "confession_bot.enhanced_ranking_ui", "message": "Error in enhanced_ranking_callback_handler: 'EnhancedLeaderboardManager' object has no attribute 'get_leaderboard'", "module": "enhanced_ranking_ui", "function": "enhanced_ranking_callback_handler", "line": 294}
{"timestamp": "2025-09-09T15:09:35.711176", "level": "ERROR", "logger": "confession_bot.enhanced_ranking_ui", "message": "Error in enhanced_ranking_callback_handler: 'EnhancedLeaderboardManager' object has no attribute 'get_leaderboard'", "module": "enhanced_ranking_ui", "function": "enhanced_ranking_callback_handler", "line": 294}
{"timestamp": "2025-09-09T15:09:41.338857", "level": "ERROR", "logger": "confession_bot.enhanced_ranking_ui", "message": "Error in enhanced_ranking_callback_handler: Can't parse entities: character '+' is reserved and must be escaped with the preceding '\\'", "module": "enhanced_ranking_ui", "function": "enhanced_ranking_callback_handler", "line": 294}
{"timestamp": "2025-09-09T15:10:13.089009", "level": "ERROR", "logger": "confession_bot.enhanced_ranking_ui", "message": "Error in enhanced_ranking_callback_handler: 'EnhancedLeaderboardManager' object has no attribute 'get_leaderboard'", "module": "enhanced_ranking_ui", "function": "enhanced_ranking_callback_handler", "line": 294}
{"timestamp": "2025-09-09T15:10:18.306430", "level": "ERROR", "logger": "confession_bot.enhanced_ranking_ui", "message": "Error in enhanced_ranking_callback_handler: Can't parse entities: character '+' is reserved and must be escaped with the preceding '\\'", "module": "enhanced_ranking_ui", "function": "enhanced_ranking_callback_handler", "line": 294}
{"timestamp": "2025-09-09T15:23:22.966233", "level": "WARNING", "logger": "confession_bot.rate_limiter", "message": "Redis not available, falling back to in-memory: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.", "module": "rate_limiter", "function": "__init__", "line": 96}
{"timestamp": "2025-09-09T15:23:35.225195", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Backup directory: backups", "module": "backup_system", "function": "_ensure_backup_directory", "line": 34}
{"timestamp": "2025-09-09T15:23:35.547709", "level": "INFO", "logger": "confession_bot.migrations", "message": "Database is up to date", "module": "migrations", "function": "migrate_to_latest", "line": 514}
{"timestamp": "2025-09-09T15:23:35.550082", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Initializing backup system...", "module": "backup_system", "function": "start_backup_system", "line": 348}
{"timestamp": "2025-09-09T15:23:35.563469", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Auto backup started - running every 24 hours", "module": "backup_system", "function": "start_auto_backup", "line": 328}
{"timestamp": "2025-09-09T15:23:37.955558", "level": "INFO", "logger": "confession_bot", "message": "User 0 - bot_started: University Confession Bot initialized", "module": "logger", "function": "log_user_action", "line": 120, "user_id": 0, "action": "bot_started"}
{"timestamp": "2025-09-09T15:25:15.339961", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Bad request: Can't parse entities: character '!' is reserved and must be escaped with the preceding '\\'", "module": "error_handler", "function": "wrapper", "line": 132}
{"timestamp": "2025-09-09T15:25:41.657637", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Bad request: Can't parse entities: character '(' is reserved and must be escaped with the preceding '\\'", "module": "error_handler", "function": "wrapper", "line": 132}
{"timestamp": "2025-09-09T15:46:03.940354", "level": "WARNING", "logger": "confession_bot.rate_limiter", "message": "Redis not available, falling back to in-memory: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.", "module": "rate_limiter", "function": "__init__", "line": 96}
{"timestamp": "2025-09-09T15:46:13.156951", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Backup directory: backups", "module": "backup_system", "function": "_ensure_backup_directory", "line": 34}
{"timestamp": "2025-09-09T15:58:33.168761", "level": "WARNING", "logger": "confession_bot.rate_limiter", "message": "Redis not available, falling back to in-memory: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.", "module": "rate_limiter", "function": "__init__", "line": 96}
{"timestamp": "2025-09-09T15:59:15.229449", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Backup directory: backups", "module": "backup_system", "function": "_ensure_backup_directory", "line": 34}
{"timestamp": "2025-09-09T15:59:15.668365", "level": "INFO", "logger": "confession_bot.migrations", "message": "Database is up to date", "module": "migrations", "function": "migrate_to_latest", "line": 514}
{"timestamp": "2025-09-09T15:59:15.669791", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Initializing backup system...", "module": "backup_system", "function": "start_backup_system", "line": 348}
{"timestamp": "2025-09-09T15:59:15.715296", "level": "INFO", "logger": "confession_bot.backup_system", "message": "Auto backup started - running every 24 hours", "module": "backup_system", "function": "start_auto_backup", "line": 328}
{"timestamp": "2025-09-09T15:59:18.756792", "level": "INFO", "logger": "confession_bot", "message": "User 0 - bot_started: University Confession Bot initialized", "module": "logger", "function": "log_user_action", "line": 120, "user_id": 0, "action": "bot_started"}
{"timestamp": "2025-09-09T16:01:46.900067", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Bad request: Can't parse entities: character '!' is reserved and must be escaped with the preceding '\\'", "module": "error_handler", "function": "wrapper", "line": 132}
{"timestamp": "2025-09-09T16:01:52.174435", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Bad request: Can't parse entities: character '(' is reserved and must be escaped with the preceding '\\'", "module": "error_handler", "function": "wrapper", "line": 132}
{"timestamp": "2025-09-09T16:17:12.047003", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Bad request: Query is too old and response timeout expired or query id is invalid", "module": "error_handler", "function": "wrapper", "line": 132}
{"timestamp": "2025-09-09T16:26:08.578731", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Global error handler triggered", "module": "error_handler", "function": "global_error_handler", "line": 395, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_exceptions.py\", line 10, in map_exceptions\n    yield\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\anyio.py\", line 34, in read\n    return await self._stream.receive(max_bytes=max_bytes)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\anyio\\streams\\tls.py\", line 237, in receive\n    data = await self._call_sslobject_method(self._ssl_object.read, max_bytes)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\anyio\\streams\\tls.py\", line 180, in _call_sslobject_method\n    data = await self.transport_stream.receive()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\anyio\\_backends\\_asyncio.py\", line 1265, in receive\n    raise self._protocol.exception from None\nanyio.BrokenResourceError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\", line 60, in map_httpcore_exceptions\n    yield\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\", line 353, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\", line 262, in handle_async_request\n    raise exc\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\", line 245, in handle_async_request\n    response = await connection.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\", line 96, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\http11.py\", line 121, in handle_async_request\n    raise exc\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\http11.py\", line 99, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\http11.py\", line 164, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\http11.py\", line 200, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        self.READ_NUM_BYTES, timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\anyio.py\", line 31, in read\n    with map_exceptions(exc_map):\n         ~~~~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Program Files\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\request\\_httpxrequest.py\", line 216, in do_request\n    res = await self._client.request(\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\", line 1530, in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\", line 1617, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\", line 1645, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\", line 1682, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\", line 1719, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\", line 352, in handle_async_request\n    with map_httpcore_exceptions():\n         ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\", line 77, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\ext\\_updater.py\", line 607, in _network_loop_retry\n    if not await action_cb():\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\ext\\_updater.py\", line 335, in polling_action_cb\n    raise exc\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\ext\\_updater.py\", line 320, in polling_action_cb\n    updates = await self.bot.get_updates(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\ext\\_extbot.py\", line 543, in get_updates\n    updates = await super().get_updates(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<9 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\_bot.py\", line 381, in decorator\n    result = await func(self, *args, **kwargs)  # skipcq: PYL-E1102\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\_bot.py\", line 3661, in get_updates\n    await self._post(\n    ^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n    ),\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\_bot.py\", line 469, in _post\n    return await self._do_post(\n           ^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\ext\\_extbot.py\", line 325, in _do_post\n    return await super()._do_post(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\_bot.py\", line 497, in _do_post\n    return await request.post(\n           ^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\request\\_baserequest.py\", line 168, in post\n    result = await self._request_wrapper(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\request\\_baserequest.py\", line 291, in _request_wrapper\n    raise exc\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\request\\_baserequest.py\", line 277, in _request_wrapper\n    code, payload = await self.do_request(\n                    ^^^^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\request\\_httpxrequest.py\", line 240, in do_request\n    raise NetworkError(f\"httpx.{err.__class__.__name__}: {err}\") from err\ntelegram.error.NetworkError: httpx.ReadError: "}
{"timestamp": "2025-09-09T16:29:21.505154", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Global error handler triggered", "module": "error_handler", "function": "global_error_handler", "line": 395, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_exceptions.py\", line 10, in map_exceptions\n    yield\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\anyio.py\", line 34, in read\n    return await self._stream.receive(max_bytes=max_bytes)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\anyio\\streams\\tls.py\", line 237, in receive\n    data = await self._call_sslobject_method(self._ssl_object.read, max_bytes)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\anyio\\streams\\tls.py\", line 180, in _call_sslobject_method\n    data = await self.transport_stream.receive()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\anyio\\_backends\\_asyncio.py\", line 1265, in receive\n    raise self._protocol.exception from None\nanyio.BrokenResourceError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\", line 60, in map_httpcore_exceptions\n    yield\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\", line 353, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\", line 262, in handle_async_request\n    raise exc\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\", line 245, in handle_async_request\n    response = await connection.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\", line 96, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\http11.py\", line 121, in handle_async_request\n    raise exc\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\http11.py\", line 99, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\http11.py\", line 164, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\http11.py\", line 200, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        self.READ_NUM_BYTES, timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\anyio.py\", line 31, in read\n    with map_exceptions(exc_map):\n         ~~~~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Program Files\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\request\\_httpxrequest.py\", line 216, in do_request\n    res = await self._client.request(\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\", line 1530, in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\", line 1617, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\", line 1645, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\", line 1682, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\", line 1719, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\", line 352, in handle_async_request\n    with map_httpcore_exceptions():\n         ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\", line 77, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\ext\\_updater.py\", line 607, in _network_loop_retry\n    if not await action_cb():\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\ext\\_updater.py\", line 335, in polling_action_cb\n    raise exc\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\ext\\_updater.py\", line 320, in polling_action_cb\n    updates = await self.bot.get_updates(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\ext\\_extbot.py\", line 543, in get_updates\n    updates = await super().get_updates(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<9 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\_bot.py\", line 381, in decorator\n    result = await func(self, *args, **kwargs)  # skipcq: PYL-E1102\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\_bot.py\", line 3661, in get_updates\n    await self._post(\n    ^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n    ),\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\_bot.py\", line 469, in _post\n    return await self._do_post(\n           ^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\ext\\_extbot.py\", line 325, in _do_post\n    return await super()._do_post(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\_bot.py\", line 497, in _do_post\n    return await request.post(\n           ^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\request\\_baserequest.py\", line 168, in post\n    result = await self._request_wrapper(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\request\\_baserequest.py\", line 291, in _request_wrapper\n    raise exc\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\request\\_baserequest.py\", line 277, in _request_wrapper\n    code, payload = await self.do_request(\n                    ^^^^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n    )\n    ^\n  File \"C:\\Users\\sende\\AppData\\Roaming\\Python\\Python313\\site-packages\\telegram\\request\\_httpxrequest.py\", line 240, in do_request\n    raise NetworkError(f\"httpx.{err.__class__.__name__}: {err}\") from err\ntelegram.error.NetworkError: httpx.ReadError: "}
{"timestamp": "2025-09-09T16:29:23.298724", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Network error: httpx.ReadError: ", "module": "error_handler", "function": "wrapper", "line": 183}
{"timestamp": "2025-09-09T16:30:40.718814", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Network error: httpx.ReadError: ", "module": "error_handler", "function": "wrapper", "line": 183}
{"timestamp": "2025-09-09T16:38:29.117709", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Bad request: Can't parse entities: character '(' is reserved and must be escaped with the preceding '\\'", "module": "error_handler", "function": "wrapper", "line": 132}
{"timestamp": "2025-09-09T16:39:18.333622", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Bad request: Can't parse entities: character '.' is reserved and must be escaped with the preceding '\\'", "module": "error_handler", "function": "wrapper", "line": 132}
{"timestamp": "2025-09-09T16:40:22.414930", "level": "ERROR", "logger": "confession_bot.error_handler", "message": "Bad request: Can't parse entities: character '!' is reserved and must be escaped with the preceding '\\'", "module": "error_handler", "function": "wrapper", "line": 132}
